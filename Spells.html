<!DOCTYPE HTML>
<html>
	<head>
		<title>Spells</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">
		<!-- Header -->
		<div id="header-placeholder"></div>
		<!-- Main -->
			<div id="main">
				<!-- Main Projects -->
					<section id="Main Projects" class="sectionText">
						<header>
							<h3 class="portfolio-title">Spells</h3>
							<p class="portfolio-subtitle">List of all spells and spell traits</p>
						</header>
						<div class="portfolio-text">
							<p class="portfolio-description">
								Spells are cast by performing a Spellshaping Check. 
								The DC equals the spells rank 
							</p>
						</div>
						<div class="portfolio-text">
							<p class="portfolio-description">
								<p class="portfolio-subtitle">Spell traits</p>
								<ul class="a">
									<li><b>Precision </b>When targeting weak points the penalty is 2 lower than normal (to a minimum of 1) </li>
									<li><b>Targetting </b>You can target weak points with this spell </li>
									<li><b>Area </b>The spell affects an area </li>
									<li><b>Manipulation </b>The spell manipulates or shapes matter </li>
									<li><b>Complex </b>The spellshaping DC increase by 2 </li>
									<li><b>Draining </b>The mana cost is increased to next rank </li>
								</ul>
							</p>
						</div>
						<div class="search-container">
							<input type="text" id="searchInput" placeholder="Search for weapon..." title="Type in a weapon name">
						</div>
						<table id="featsTable">
							<thead>
								<tr>
									<th onclick="sortTable(0)">Name</th>
									<th onclick="sortTable(1)">Actions</th>
									<th onclick="sortTable(2)">Aspects</th>
									<th onclick="sortTable(8)">Traits </th>
									<th onclick="sortTable(4)">Range<br>(tiles)</th>
									<th onclick="sortTable(5)">Target</th>
									<th onclick="sortTable(6)">Duration</th>
									<th onclick="sortTable(7)">Effect</th>
									<th onclick="sortTable(8)">Failed cast</th>
									<th onclick="sortTable(8)">Rank</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Blinding Flash</td> <!-- Name -->
									<td>2</td>  <!-- Actions -->
									<td>Light</td> <!-- Aspects -->
									<td>Targeting </td> <!-- Traits -->
									<td>6</td> <!-- Range -->
									<td>One Creature</td> <!-- Targets -->
									<td>Up to one minute</td> <!-- Duration -->
									<td> <!-- Effect -->
										Send a blinding flash of light at a creature. It must make a Fortitude save 
										<b>Success:</b> Target is dazzled for one turn.
										<b>Failure:</b> Target is blinded for one turn and dazzled for one minute 
										<b>Critical Failure:</b> Target is blinded for one minute
										While affected by this spell, the target can spend one action to attempt to redo the save, removing the remaining effects on a success.
									</td>
									<td></td> <!-- Failed Cast -->
									<td>Apprintice</td>  <!-- Rank -->
								</tr>
								<tr>
									<td>Chill</td> <!-- Name -->
									<td>2</td>  <!-- Actions -->
									<td>Ice</td> <!-- Aspects -->
									<td>Targeting </td> <!-- Traits -->
									<td>1</td> <!-- Range -->
									<td>One Creature</td> <!-- Targets -->
									<td>Up to one turn</td> <!-- Duration -->
									<td> <!-- Effect -->
										Freeze an medium or smaller object or creature, dealing 4d4 cold damage with a basic Fortitude  save. 
										On a critical failure the target is partially frozen and has move speed reduced by 2 tiles next turn. 
										<br>If the target is standing in water it has a -3 penalty to the save
									</td>
									<td></td> <!-- Failed Cast -->
									<td>Apprintice</td>  <!-- Rank -->
								</tr>
								<tr>
									<td>Control Water</td> <!-- Name -->
									<td>1-3</td>  <!-- Actions -->
									<td>Water</td> <!-- Aspects -->
									<td>Manipulation </td> <!-- Traits -->
									<td>12</td> <!-- Range -->
									<td>-</td> <!-- Targets -->
									<td>-</td> <!-- Duration -->
									<td> <!-- Effect -->
										Allows the caster to shape and manipulate water, creating simple shapes or moving water around. 
										While the spell doesn't offer permanent control, it can be used to redirect small rivers, create temporary barriers, or even form small tools made of water. 
										The water returns to its natural state after the spell ends.
									</td>
									<td></td> <!-- Failed Cast -->
									<td>Apprintice</td>  <!-- Rank -->
								</tr>
							</tbody>
						</table>
					</section>
			</div>
		<!-- Footer -->
			<div id="footer">
				<!-- Copyright -->
					<ul class="copyright">
						<li>&copy; Edvin Skogsholm Sanne's Portfolio. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
					</ul>
			</div>
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
				fetch('rpgheader.html')
					.then(response => response.text())
					.then(data => {
						document.getElementById('header-placeholder').innerHTML = data;
					});

				function sortTable(n) {
					let table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;
					table = document.getElementById("featsTable");
					switching = true;
					dir = "asc";
					while (switching) {
						switching = false;
						rows = table.rows;
						for (i = 1; i < (rows.length - 1); i++) {
							shouldSwitch = false;
							x = rows[i].getElementsByTagName("td")[n];
							y = rows[i + 1].getElementsByTagName("td")[n];
							if (dir === "asc") {
								if (x.innerHTML.toLowerCase() > y.innerHTML.toLowerCase()) {
									shouldSwitch = true;
									break;
								}
							} else if (dir === "desc") {
								if (x.innerHTML.toLowerCase() < y.innerHTML.toLowerCase()) {
									shouldSwitch = true;
									break;
								}
							}
						}
						if (shouldSwitch) {
							rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
							switching = true;
							switchcount++;
						} else {
							if (switchcount === 0 && dir === "asc") {
								dir = "desc";
								switching = true;
							}
						}
					}
				}
				// Sort by feat name on page load
					window.onload = function() {
						sortTable(7);
						sortTable(7);
					};

				document.getElementById("searchInput").addEventListener("keyup", function() {
					let input, filter, table, tr, td, i, txtValue;
					input = document.getElementById("searchInput");
					filter = input.value.toUpperCase();
					table = document.getElementById("featsTable");
					tr = table.getElementsByTagName("tr");
					for (i = 0; i < tr.length; i++) {
						td = tr[i].getElementsByTagName("td")[0];
						if (td) {
							txtValue = td.textContent || td.innerText;
							if (txtValue.toUpperCase().indexOf(filter) > -1) {
								tr[i].style.display = "";
							} else {
								tr[i].style.display = "none";
							}
						}
					}
				});
			</script>
	</body>
</html>